#!/usr/bin/env ruby

require_relative '../lib/dpo'

puts 'DPO - copy'

abort('Mandatory arguments missing') unless ARGV.size == 2

src = Pathname.new(ARGV[0])
dst = Pathname.new(ARGV[1])

abort("Source folder doesn't exist") unless src.directory?

abort("Destination folder doesn't exist") unless dst.directory?
abort("Destination folder is not writeable") unless dst.writable?

ps = Dpo::PhotoSeeker.new(src)

ps.photos.each { |file| 

    photo = Dpo::Photo.new(file)

    puts photo.basename

}